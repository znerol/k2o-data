#N canvas 36 22 951 681 10;
#X obj 498 39 inlet;
#X obj 205 37 inlet;
#N canvas 88 89 873 635 orthodrome 1;
#X obj 67 87 inlet;
#X obj 157 87 inlet;
#X obj 267 87 inlet;
#X obj 357 87 inlet;
#X text 66 63 a lat;
#X text 157 63 a lon;
#X text 266 63 b lat;
#X text 356 63 b lon;
#X obj 357 147 *;
#X text 602 327 orthodrome arc;
#X obj 187 365 t a a;
#X obj 216 425 expr acos($f1) * $f2;
#X obj -74 491 outlet;
#X obj 215 458 outlet;
#X text 386 425 orthodrome length;
#X text -16 490 angle in radians;
#X floatatom 373 128 5 0 0 0 - - -;
#X obj 188 321 expr sin($f1) * sin($f3) + cos($f1) * cos($f3) * cos($f4
- $f2);
#X obj -75 428 expr atan(cos($f1) * cos($f3) * sin($f4-$f1)/(sin($f3)-sin($f1)*
$f5));
#X floatatom 230 394 5 0 0 0 - - -;
#X floatatom 357 208 5 0 0 0 - - -;
#X floatatom 267 208 5 0 0 0 - - -;
#X msg 612 99 \; twopi 6.28319;
#X obj 612 68 loadbang;
#X obj 374 107 r twopi;
#X obj 357 167 / 360;
#X obj 267 147 *;
#X floatatom 283 128 5 0 0 0 - - -;
#X obj 284 107 r twopi;
#X obj 267 167 / 360;
#X floatatom 157 208 5 0 0 0 - - -;
#X obj 157 147 *;
#X floatatom 173 128 5 0 0 0 - - -;
#X obj 174 107 r twopi;
#X obj 157 167 / 360;
#X floatatom 67 208 5 0 0 0 - - -;
#X obj 67 147 *;
#X floatatom 83 128 5 0 0 0 - - -;
#X obj 84 107 r twopi;
#X obj 67 167 / 360;
#X obj 67 227 t a a;
#X text 100 31 viewpoint;
#X text 296 31 location;
#X obj 351 393 r \$1;
#X text 392 393 radius is first argument;
#X connect 0 0 36 0;
#X connect 1 0 31 0;
#X connect 2 0 26 0;
#X connect 3 0 8 0;
#X connect 8 0 25 0;
#X connect 10 0 18 4;
#X connect 10 1 11 0;
#X connect 10 1 19 0;
#X connect 11 0 13 0;
#X connect 16 0 8 1;
#X connect 17 0 10 0;
#X connect 18 0 12 0;
#X connect 23 0 22 0;
#X connect 24 0 16 0;
#X connect 25 0 20 0;
#X connect 25 0 17 3;
#X connect 25 0 18 3;
#X connect 26 0 29 0;
#X connect 27 0 26 1;
#X connect 28 0 27 0;
#X connect 29 0 21 0;
#X connect 29 0 17 2;
#X connect 29 0 18 2;
#X connect 30 0 18 1;
#X connect 30 0 17 1;
#X connect 31 0 34 0;
#X connect 32 0 31 1;
#X connect 33 0 32 0;
#X connect 34 0 30 0;
#X connect 35 0 40 0;
#X connect 36 0 39 0;
#X connect 37 0 36 1;
#X connect 38 0 37 0;
#X connect 39 0 35 0;
#X connect 40 0 18 0;
#X connect 40 1 17 0;
#X connect 43 0 11 1;
#X restore 469 351 pd orthodrome;
#X obj 629 404 outlet;
#X obj 527 411 outlet;
#X obj 390 335 r dtr;
#X obj 778 20 loadbang;
#X obj 324 353 select 0;
#X obj 374 333 *;
#X obj 510 465 expr cos($f1) * $f2;
#X obj 489 494 expr sin($f1) * $f2;
#X obj 489 524 pack f f;
#X obj 488 554 outlet;
#X obj 328 468 expr cos($f1) * $f2;
#X obj 307 497 expr sin($f1) * $f2;
#X obj 307 527 pack f f;
#X obj 306 557 outlet;
#X obj 554 374 t a a;
#X obj 468 375 t a a a a;
#X obj 301 438 t a a;
#X text 298 583 transposed by heading;
#X text 484 583 cartesian;
#X text 635 425 distance;
#X text 531 430 angle;
#X floatatom 389 355 5 0 0 0 - - -;
#X msg 779 48 \; re 6.371e+06 \; dtr 0.0174533;
#X obj 204 66 OSCroute /lat /lon /heading;
#X obj 498 69 OSCroute /agglat /agglon /aggpoints;
#X obj 658 98 sel 0;
#X obj 555 185 gate;
#X msg 658 137 0;
#X msg 691 137 1;
#X obj 475 184 gate;
#X obj 476 204 /;
#X obj 556 205 /;
#X obj 301 409 -;
#X text 84 404 FIXME HANDLE HEADING PROPERLY;
#X floatatom 498 91 5 0 0 0 - - -;
#X floatatom 475 223 5 0 0 0 - - -;
#X floatatom 578 91 5 0 0 0 - - -;
#X floatatom 556 226 5 0 0 0 - - -;
#X floatatom 691 118 5 0 0 0 - - -;
#X floatatom 203 226 5 0 0 0 - - -;
#X floatatom 264 225 5 0 0 0 - - -;
#X floatatom 325 224 5 0 0 0 - - -;
#X obj 556 325 r re;
#X connect 0 0 27 0;
#X connect 1 0 26 0;
#X connect 2 0 18 0;
#X connect 2 1 17 0;
#X connect 5 0 24 0;
#X connect 6 0 25 0;
#X connect 7 1 8 0;
#X connect 9 0 11 1;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 13 0 15 1;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 17 0 9 1;
#X connect 17 0 10 1;
#X connect 17 0 13 1;
#X connect 17 0 14 1;
#X connect 17 1 3 0;
#X connect 18 0 19 0;
#X connect 18 1 10 0;
#X connect 18 2 9 0;
#X connect 18 3 4 0;
#X connect 19 0 14 0;
#X connect 19 1 13 0;
#X connect 24 0 8 1;
#X connect 26 0 42 0;
#X connect 26 1 43 0;
#X connect 26 2 44 0;
#X connect 27 0 37 0;
#X connect 27 1 39 0;
#X connect 27 2 28 0;
#X connect 28 0 30 0;
#X connect 28 1 41 0;
#X connect 29 0 34 0;
#X connect 30 0 32 0;
#X connect 30 0 29 0;
#X connect 31 0 32 0;
#X connect 31 0 29 0;
#X connect 32 0 33 0;
#X connect 33 0 38 0;
#X connect 34 0 40 0;
#X connect 37 0 32 1;
#X connect 38 0 2 2;
#X connect 39 0 29 1;
#X connect 40 0 2 3;
#X connect 41 0 31 0;
#X connect 41 0 34 1;
#X connect 41 0 33 1;
#X connect 42 0 2 0;
#X connect 43 0 2 1;
#X connect 44 0 7 0;
